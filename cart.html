<!-- cart.html -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Cart</title>
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&family=Salsa&family=Wellfleet&display=swap" rel="stylesheet">
    <style>
      /* Add space around the navbar brand */
      /* .navbar-brand {
            margin-right: 15px;
            margin-left: 15px;
        } */
    </style>

    <style>
      /* General styles */
      body {
        font-family: 'IBM Plex Mono', monospace;
font-family: 'Salsa', cursive;
font-family: 'Wellfleet', monospace;
        background-color: #efefce;
        margin: 0;
        padding: 0;
      }

      .container {
          max-width: 1200px;
          margin: 0 auto;
        }

        /* Navbar styling */
        /* .navbar {
      background-color: #2c3e50;
    } */

        .navbar-brand img {
          max-width: 30px;
          margin-right: 5px;
        }

        .navbar-brand {
          display: flex;
          align-items: center;
          font-size: 1.5rem;
        }

        /* .navbar-brand span {
      font-weight: bold;
      color: #ecf0f1;
     } */

        /* .navbar-toggler {
      border: 1px solid #ecf0f1;
     } */

        .navbar-nav {
          margin-left: auto;
        }

        .nav-item {
          margin-right: 15px;
        }

        .btn-outline-success {
        color: #2c3e50;
        background-color: #ecf0f1;
        border: none;
      }

      /* Adjust styling based on your design preferences */
      /* Responsive styles */
      @media (max-width: 768px) {
        .navbar-collapse {
          background-color: #2c3e50;
          /* Background color for the collapsed menu */
        }

        .navbar-nav {
          margin-top: 10px;
          /* Adjust top margin for better spacing */
        }

        .navbar-nav .nav-item {
          text-align: center;
          /* Center align items in the collapsed menu */
        }

        .navbar-nav .nav-link {
          padding: 10px;
          /* Adjust padding for better touch experience */
          color: #ecf0f1 !important;
          /* Text color for the collapsed menu items */
        }

        .navbar-toggler-icon {
          background-color: #ecf0f1;
          /* Background color for the toggler icon */
        }
      }

      /* Dropdown styling */
      .dropdown-menu {
        background-color: #343a40;
      }

      .dropdown-item {
        color: #ffffff !important;
      }

      .dropdown-item:hover {
        background-color: #495057;
        color: #ffffff !important;
      }
   

      .welcome-section {
        height: 50vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
      }

      .welcome-text {
        font-size: 2.5rem;
        color: #333333;
        margin-bottom: 20px;
      }
      @media (max-width: 767.98px) {
        .carousel-item img {
          max-height: 200px;
        }
      }

      @media (min-width: 768px) and (max-width: 991.98px) {
        .carousel-item img {
          max-height: 300px;
        }
      }

      @media (min-width: 992px) {
        .carousel-item img {
          max-height: 400px;
        }
      }

      h2 {
        color: #333;
        text-align: center;
        margin-bottom: 1.5rem;
        font-size: 2.5rem;
      }

      .footer {
                /* background-color: #4CAF50; */
                color: #fff;
                text-align: center;
                /* padding: 20px; */
                /* border-radius: 10px; */
                margin-top: 30px;
                background-color: #343a40;
                padding: 40px 0;
            }
        
            .footer p {
                margin-bottom: 5px;
            }

      .card {
        border: 1px solid #e1e0e0;
        border-radius: 8px;
      }
      .navbar {
    font-weight: bold;
    font-size: 1.3rem;
}
      .card-body {
        background-color: #e2e2a8;
        border: 2px solid #dfdf8b;
        border-radius: 5px;
        box-shadow: 5px 8px 5px 3px rgba(0, 0, 0, 0.1);
      }

      .card-title {
        font-size: 1.5rem;
        font-weight: bold;
      }

      /* .card-text {
      margin-bottom: 5px;
    } */

      input[type="number"] {
        width: 70px;
        padding: 3px;
      }
      #total-amount {
        /* margin-top: 10px;s */
        padding: 5px;
        background-color: #585858;
        color: #fff;
        border-radius: 5px;
        font-size: 18px;
        font-weight: bold;
        text-align: center;

      }
    </style>
  </head>

  <body>
    <nav
      class="navbar navbar-expand-lg navbar-dark"
      style="background-color: #383838d7"
    >
      <div class="container">
        <a class="navbar-brand" href="#">
          <img src="" alt="" />
          <span style="font-weight: bold; color: #ecf0f1">VirtuReads</span>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-center"
          id="navbarNav"
        >
          <ul class="navbar-nav m-0">
            <li class="nav-item">
              <a class="nav-link"  href="/index.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/categories.html"
                >Categories</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active"  href="/cart.html"
                >Card</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link"  href="payment.html"
                >Payments</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" style="color: #ecf0f1" href="contact.html"
                >Contact Us</a
              >
            </li>
            <li class="nav-item"></li>
          </ul>
        </div>
      </div>
    </nav>
    
    <div class="container my-5">
      <h2>Shopping Cart</h2>
      <div id="cart-content">
        <!-- Cart items will be displayed here using JavaScript -->
      </div>
    </div>
    <div class="welcome-section">
      <h1 class="welcome-text">Your Total Amount</h1>

      <!-- Total amount section -->
      <div class="row">
        <div class="col-md-12">
          <div id="total-amount">
            <!-- Total amount will be displayed here using JavaScript -->
          </div>
        </div>
      </div>

      <!-- Proceed to Payment button -->
      <div class="row">
        <div class="col-md-12">
          <button id="proceed-to-payment" class="btn btn-warning my-2">
            Proceed to Payment
          </button>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="container d-flex flex-column">
                  <h4>Contact Us</h4>
                  <p>Email: example@gmail.com</p>
                  <p>address: xyz Streat, New York</p>
                  <p>Phone: 111-111-111</p>
      </div>
  </footer>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.8/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
      // Function to fetch and display cart items
      function displayCartItems() {
        const cartContent = document.getElementById("cart-content");
        cartContent.innerHTML = "";

        // Retrieve cart items from local storage
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

        // Iterate through the cart items
        cartItems.forEach((cartItem) => {
          const cartItemCard = document.createElement("div");
          cartItemCard.classList.add("card", "mb-2");
          cartItemCard.innerHTML = `
          <div class="card-body">
            <h5 class="card-title">${cartItem.title}</h5>
            <p class="card-text">Author: ${cartItem.author}</p>
            <p class="card-text">Price: $${cartItem.price.toFixed(2)}</p>
            <p class="card-text">Quantity: <input type="number" min="1" value="${
              cartItem.quantity
            }" onchange="updateQuantity('${cartItem.title}', this.value)"></p>
            <button class="btn btn-danger" onclick="removeItem('${
              cartItem.title
            }')">Remove</button>
            
          </div>
        `;
          cartContent.appendChild(cartItemCard);
        });

        updateTotalAmount(cartItems);
      }

      // Function to handle buying an item and updating total amount
      function buyItem(title, price) {
        // Retrieve cart items from local storage
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

        // Find the cart item by title
        const cartItem = cartItems.find((item) => item.title === title);

        if (cartItem) {
          // Increase the quantity by 1 and update the total amount
          cartItem.quantity += 1;

          // Update the cart items in local storage
          localStorage.setItem("cartItems", JSON.stringify(cartItems));

          displayCartItems();
        }
      }

      // Function to update the quantity of a cart item
      function updateQuantity(title, newQuantity) {
        // Retrieve cart items from local storage
        const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

        // Find the cart item by title
        const cartItem = cartItems.find((item) => item.title === title);

        if (cartItem) {
          cartItem.quantity = parseInt(newQuantity, 10);
        }

        // Update the cart items in local storage
        localStorage.setItem("cartItems", JSON.stringify(cartItems));

        displayCartItems();
      }

      // Function to remove an item from the cart
      function removeItem(title) {
        // Retrieve cart items from local storage
        let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

        // Filter out the item to be removed
        cartItems = cartItems.filter((item) => item.title !== title);

        // Update the cart items in local storage
        localStorage.setItem("cartItems", JSON.stringify(cartItems));

        displayCartItems();
      }

      // Function to calculate and display the total amount
      function updateTotalAmount(cartItems) {
        const totalAmount = document.getElementById("total-amount");
        const totalPrice = cartItems.reduce((total, item) => {
          return total + item.price * item.quantity;
        }, 0);
        totalAmount.innerHTML = `<p>Total Amount: $${totalPrice.toFixed(
          2
        )}</p>`;
      }

      // Function to proceed to the payment page
      function proceedToPayment() {
        // Redirect to the Payment Page
        window.location.href = "payment.html";
      }

      // Call the functions
      displayCartItems();

      // Add event listener for the "Proceed to Payment" button
      const proceedButton = document.getElementById("proceed-to-payment");
      proceedButton.addEventListener("click", proceedToPayment);
    </script>

    <!-- JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  </body>
</html>
